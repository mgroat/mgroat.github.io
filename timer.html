<script   src="https://code.jquery.com/jquery-2.2.2.min.js"   integrity="sha256-36cp2Co+/62rEAAYHLmRCPIych47CvdM+uTBJwSzWjI="   crossorigin="anonymous"></script>
<script>
//http://stackoverflow.com/questions/20618355/the-simplest-possible-javascript-countdown-timer
function startTimer(timerSetup) {
    var i = 0;
	//timerSetup[i] = [seconds, activity, sound object]
	var timer =timerSetup[i][0];
	
	//Put things we do on every iteration (incl first) here
	$("#activity").text(timerSetup[i][1]);
	
    setInterval(function () {
        var minutes = parseInt(timer / 60, 10);
        var seconds = parseInt(timer % 60, 10);

        minutes = minutes < 10 ? "0" + minutes : minutes;
        seconds = seconds < 10 ? "0" + seconds : seconds;

        $("#time").text(minutes + ":" + seconds);
		document.title=minutes + " " + timerSetup[i][1];

        if (--timer < 0) {
			i++;
			if (i >= timerSetup.length) {
				i = 0;
			}
            timer = timerSetup[i][0];
			$("#activity").text(timerSetup[i][1]);
			document.title=timerSetup[i][1];
			timerSetup[i][2].play();
			if (Notification.permission !== "granted"){
				Notification.requestPermission();}
			else {
				var notification = new Notification('Timer', {
				body: "Time for " + timerSetup[i][1],
				});
			}
		}
    }, 1000);
}

window.onload = function () {
	var work = new Audio("http://freesound.org/data/previews/193/193170_3012047-lq.mp3");
	var rest = new Audio("http://freesound.org/data/previews/196/196106_2271450-lq.mp3");
    startTimer([[5,"Focus",work],[3,"Rest",rest]]);
};
</script>
<h1 id='activity'></h1>
<h2 id='time'></h2>
